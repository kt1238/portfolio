<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <header>
        <h1>CKSQ</h1>
    </header>
    <nav>
        <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="about.html">About Me</a></li>
            <li><a href="projects.html">Projects</a></li>
        </ul>
    </nav>
    <main>
        <h2>Projects</h2>
        <p>These are some independent projects I have worked on.</p>
        <section>
            <h3>Transforming my watchlist.txt into a web app</h3>
            <h4>Introduction</h4>
            <p>
                I have a secret. Every time someone tells me about a movie or show I put it into my watchlist. 
                It's gotten really long. I would say unmanageable at this point. So I decided to clean it up using
                some skills I learned at university.
            </p>
            <p>
                You can have a look at the file for yourself <a href="resources/Movies_Series_Books_Music.txt" target="_blank">here</a>.
            </p>
            <p>
                As you can see the list has started to develop its own language
                <ul>
                    <li>✓ means that I have seen the movie</li>
                    <li>The length of these lines (!----!) indicate how eager I am to watch the movie.</li>
                    <li>Additional information such as year of release or genre is stored in brackets.</li>
                </ul>
            </p>
            <p>
                Here's the process I followed.
            </p>
            <h4> Make A Copy</h4>
            <p>
                Before you do anything with data you care about, you should make a copy of it. It sounds simple enough
                but forgetting to do it can have serious consequences.
            </p>
            <h4> Divide Up The Problem</h4>
            <p>
                It would be very difficult to extract useful data from all parts of the watchlist at the same time.
                For example, the columns associated with movies(director, release date) and comics(author,num_issues) are different.
                Instead I am going to focus on the movies section first.
                The modified list is <a href="resources/movies.txt" target="_blank">here</a>.
            </p>
            <h4> Formatting into a CSV file with Python</h4>
            <p>
                The <a href="resources/format.py" target="_blank">program</a> I have created opens up the .txt file, reads each line sequentially, formats it and writes it to a new .csv file.
            </p>
            <p><em>Figure 1: The .csv file generated by the program.</em></p>
            <img src="resources/output.png" alt="A csv file sample">
            <p>
                I had to make some alterations to the original .txt file by hand
                <ul>
                    <li>remove unclosed brackets</li>
                    <li>joined separate language sections and added language in () instead</li>
                    <li>split up lines containing multiple movies</li>
                </ul>
            </p>
            <h4> Loading the CSV file into a Database</h4>
            <p>
                I am using MySQL as my database. To interact with MySQL I made use of the <code>mysql.connector</code> library recommended by its creators.
                This allowed me to pass SQL commands to the database using Python.
                The script I used to upload the values can be found <a href="resources/upload.py" target="_blank">here</a>.
            </p>
            <h4> Set Up Django Front-End</h4>
            <p>
                I have now successfully created a database! However the average user cannot view my movie list (unless they know SQL) ☹️.
                Adding and modifying movies through SQL queries is also a bit clunky. To fix this I created a web app using Django. <br>
                I loaded my csv file a django model which was translated into a sqlite database. (the MySQL database will be implement in later versions) <br>
                The script for this can be found in GitHub repository mentioned below.
            </p>
            <p><em>Figure 2: The new sqlite database</em></p>
            <img src="resources/sqlitedb.png" alt="A section of records in the movie database">
            <p>
                Next I had to define some views that would access the Movie model, and some templates that would be displayed to the user.
                And I had a Django app ready! (on my laptop) 
            </p>
            <h4> Deploying a Django App</h4>
            I used <a href="https://www.pythonanywhere.com/">pythonanywhere</a> to host the web app. It's free and has a interface to deploy and manage your apps easily.
            You can visit the final site <a href="https://kevlar12345.pythonanywhere.com/">here.</a>

            <h4> Future Improvements</h4>
            <ul>
				<li><del>Use Django templating language for web app.</del></li>
                <li><del>Pagination in all section with generic views</del></li>
                <li>Make it so that others can create their own watchlist and ratings</li>
                <li>Make use of MySQL database instead of sqlite database.</li>
                <li>Store API key in enviroment variables (more secure) </li>
                <li><a href="https://www.pythonanywhere.com/forums/topic/2657/">Continuous Deployment!</a></li>
                <li>Movie titles can contain commas which inteferes with a csv format.</li>
				<li>Improve extract functions in formatter.</li>
				<li>Increase range of genres.</li>
				<li>Movies can have multiple genres.</li>
                <li>Improve SEO?</li>
				<li>Store poster for each movie (scrape from web?).</li>
				<li>Scrape information about movies from web so more records are complete.</li>
				<li>Random recommendation not very helpful, make a recommendation base on inputs?</li>
				<li>Better search engine - use a plugin?</li>
				<li>Visualisations of count per genre, ratings over time, etc.</li>
            </ul>
        </section>
        <section>
            <h3>Chasing â€œ</h3>
        </section>
    </main>
</body>
</html>